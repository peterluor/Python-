# 函数

本文档是 Python 函数的学习文档，对函数的各种知识进行了详细的整理，方便以后的复习与查询Python 函数的使用十分简单，就是将变量代入到变量中就可以得到处理结果，在 Python 中的内置函数被统称为**内建函数（Built-in Functions）**，这些函数直接安装 Python 就可以使用，但是这些内建函数并不是每一个都需要学会使用，在此处附上[Python 3.11中各个函数的介绍](https://docs.python.org/zh-cn/3/library/functions.html)

---

***作者：张浩乾***

***时间：2023-05-16***

---

# 目录

[1.创建函数](# 1.创建函数)

​	[1.1 创建函数的步骤](# 1.1 创建函数的步骤)

​	[1.2 举例](# 1.2 举例)

​	[1.3 练习题](# 1.3 练习题)

[2.餐宿](# 2.参数)

​	[2.1 形式参数与实际参数](# 2.1 形式参数与实际参数)

​	[2.2 位置参数与关键词参数](# 2.2 位置参数与关键词参数)

​		[2.2.1 位置参数](# 2.2.1 位置参数)

​		[2.2.2 关键词参数](# 2.2.2 关键词参数)

​			[a.为参数设置默认值](# a.为参数设置默认值)

​			[b.设置可变参数](# b.设置可变参数)

​	[2.3 解析](# 2.3 解析)

[3.变量的作用域](# 2.3 变量的作用域)

​	[3.1 全局变量](# 3.1 全局变量)

​	[3.2 局部变量](# 3.2 局部变量)

[4.匿名函数](# 4.匿名函数)

[5.自己设计函数](# 5.自己设计函数)

## 1.创建函数

+ **def：**就是define的意思，就是创建定义一个函数

+ **arg：**就是argument的意思，即参数，有时候会见到 **parameter（参数）**这种说法
+ **return：**返回结果

### 1.1 创建函数的步骤

*Define a function named 'function' which has two arguments:arg1 and arg2,return the result——'something'*

~~~python
def function_name(arg1,arg2):
	return 'somthing'
~~~

**Tips:**当返回结果不止一个时，我们可以使用列表将结果封装起来，然后依次输出

### 1.2 举例

我们先创建一个求平方的简单函数`mm`

~~~python
def mm(a):
	b=a**2
    return b
~~~

然后我们运行一下

~~~Python
c=mm(2)
print(c)
~~~

运行结果：`4`

上面的知识已经可以使用很长时间，我们对上面的函数进行一个简单的修改：

~~~python
def mm(a):
	b=a**2
    print(b)
~~~

然后同样运行一下

~~~Python
c=mm(2)
print(c)
~~~

运行结果如下：

`4`

`None`

为什么会产生这样的结果呢？

我们就需要说一说 print 和 return，return 就是在函数中起到了返回值的作用，print 就是在函数中展示给我们打印的结果，上面的`4`就是调用函数后产生的结果，`None`就是被返回的数值——**什么都没有返回**，就是因为没有关键字return，所以，我们认为：

**一个函数可以没有return，函数也可以被定义并使用，不过返回值就是None**

### 1.3 练习题

**设计一个函数，求直角三角形斜边的长度以及面积**

~~~python
import math
def length(a,b):
    c=math.sqrt(a**2+b**2)
    s=(a*b)/2
    return c,s
[c,s]=length(3,4)
print(c,s)
~~~

## 2.参数

### 2.1 形式参数与实际参数

我们先定义一个简单的函数，然后调用一下定义的函数：

~~~python
def sum(a)
	c=a*2
    return c
sum(3)
~~~

上面我们在定义函数的参数`a`一个形式参数，我们在调用函数时的`3`就是一个实际参数

根据实际参数的不同，我们可以分为**将实际参数的值传递给形式参数**、**将实际参数的引用传递给形式参数**，**如果实际参数时不可变对象（数字、字符串、元组）时，进行值传递；如果实际对象是可变对象（列表、字典）时，进行引用传递**。

**那**值传递与引用传递的区别是什么呢？**

**进行值传递后，只是改变了形式参数的值，但是实际参数的值保持不变；进行引用传递后，不仅改变了形式参数的值，实际参数的值也会随着时间参数的变化儿发生变化**。

### 2.2 位置参数与关键词参数

当我们定义了一个函数，需要调用它时，只需要以 `function_name(arg)` 的形式进行调用即可，此处的 arg 称作**传递参数**。事实上，传递参数共分为两种：

+ 位置参数（positional argument）
+ 关键词参数（keyword argument）

下面对这两种参数进行一个详细的说明

#### 2.2.1 位置参数

首先，我们还是先定义一个求直角三角形面积的函数：

~~~Python
def Area(a,b):
    s=a*b*0.5
    return s
~~~

我们进行一个调用：

~~~python
Area(3,4)
~~~

结果如下：

`6.0`

**上面这种调用方式被称为位置参数，就是传入的参数要跟你在定义函数时参数的位置一一对应**

#### 2.2.2 关键词参数

如果在调用一个函数时只是依赖于位置参数，那就意味着我们需要记住大量的参数的对应的位置，不然就会报错，所以关键词参数就很有必要，避免了大量记忆的困扰，

##### a.为参数设置默认值
我们还是使用上面定义的求三角形面积的函数，不过这一次我们需要换一种传入方式：

~~~python
Area(b=3,a=4)
~~~

这个时候，我们在调用函数的时候，将函数的每个参数名称后面进行赋一个**我们想传入的值**，这个值与位置无关。

我们将这种以名称作为一一对应参数传入的方式称为**关键词参数**，有以下两个注意事项：

+ 关键词参数一般要放在所有参数的最后面。
+ 关键词参数应该是不可变对象（数字、字符串以及元组），不然在调用一次后形式参数发生变化，也就失去了设置默认值的意义。

##### b.设置可变参数

可变参数又称为不定长参数，常见的有`function_name(*parameter)`、`function_name(**parameter)`，即传入的所有参数可以零个到无数个。

`function_name(*parameter)`就是将所有的参数放进一个元组中，然后就成为一个可迭代的对象，举例如下：

~~~python
def circle(*parameter):
    for i in parameter:
        print(i,end=' ')
circle('I','love','python','!')
~~~

如果想把一个现成的`列表/元组`作为参数，就需要在调用函数的时候在列表名称前面加`*`变成`*listname`的样子，举例如下：

~~~python
def circle(*parameter):
    for i in parameter:
        print(i,end=' ')
list=list(range(1,22,2))
tuple=tuple(range(0,21,2))
circle(*list)
circle(*tuple)
~~~

### 2.3 辨析

为了将这两种参数详细区分，我们不妨想一想餐厅预约就餐的过程：

你想出去和朋友吃个饭，提前在餐厅进行了预定，用自己的姓名拿到了自己的排号，然后你用自己的姓名被安排到了指定的位置，这就是关键词参数；当上菜时，是按照你的位置来上菜，这就是位置参数。

## 3.变量的作用域

### 3.1 全局变量

**在函数体外的所有变量都是全局变量**，如果全局变量发生重复，则以最新的变量为主。全局变量不仅函数外可以访问，函数内也可以访问。举例如下：

~~~python
a=1
a=2	# 全局变量a重复，以最新的2为主
def sum(b):
    c=a+b
    return c
print(sum(2))
~~~

### 3.2 局部变量

在函数体内的变量就是局部变量，也可以使用`global`将局部变量变成全局变量。全局变量和局部变量可以重复，当重复时，如果对局部变量进行赋值，不会改变全局变量的值。举例如下：

~~~python
a=1
def sum(b):
    a=3
    return a+b
print(sum(5))
# 使用global将局部变量变为全局变量
a=1
def sum(b):
    global a
    # 现在a已经是一个全局变量，重新对a赋值将改变全局变量a的值
    a=3
    return a+b
print(a)
print(sum(5))
~~~

## 4.匿名函数

在python 中，匿名函数（lambda）指的是没有名字的函数，当我们需要一个函数但是又不想给函数命名的时候，就需要使用匿名函数，这样的函数就使用一次，具体的语法如下：

`result=lambda arg1,arg2,……:expression`

`result`就是用于调用`lambda`表达式，`arg1`就是要传输的参数列表，`expression`就是必须要出现的，是一个用于实现功能的**包含有前面的参数列表`arg1,arg2,……`表达式**，举例如下：

~~~python 
import math
pi=math.pi
# 计算圆锥体积
h=3
r=3
v=lambda r,h:(pi*r**2*h)/3 # 直接将匿名函数赋值给一个变量，然后可以直接被调用
print(v(r,h))
~~~

从以上我们可以看出，匿名函数的表达式只有一个，并且表达式的结果就是函数的返回值

在上面看来，我们在使用匿名函数的时候需要先定义两个参数，显得有些的多余，好像不需要定义一个函数也能实现这个功能，但是**匿名函数的真正用途就是指定短小的回调函数**，举例如下：

~~~python
import random
l=[]
tuple_1=tuple(random.randint(10,100) for i in range(10))
tuple_2=tuple(random.randint(20,100) for i in range(10))
for i in range(10):
    l.append((tuple_1[i],tuple_2[i]))
print(l)
l.sort(key=lambda x:(x[0],x[0]/x[1])) #这行是给sort写一个排序规则，优先按照第一个元素排列，然后燃着第二个元素升序排列
print(l)
~~~



## 5.自己设计函数



例：自己设计一个函数写入自定义文字到一个txt文件中。

~~~Python
def create_md(name,msg):
    path='F:\Markdown'
    full_path=path+'\\'+'name'+'.md'
    file=open(full_path,'w')
    file.write(msg)
    file.close()
    print('done')
~~~

调用函数：

~~~python
create_md('example','Hello,Python!')
~~~









