# 正则表达式

本文档是正则表达式的学习文件，会按照学习进度进行一定的排版，方便以后进行复习。

## 1.简介

**正则表达式(*Regular Expression*)**是一种文本格式，构造正则表达式的方法和使用数学表达式一样，就是使用**运算符**将小的表达式连接在一起创建更大的表

达式，包括普通字符（A-Z，a-z）与特殊字符，且**特殊字符不参与匹配，只是起到一个标识作用**。

+ `Global(g)`  又称为全局模式
+ `Multiline(m)`  称为多行模式，用于匹配 `^` 和 `$` 
+ `Ignore Case(i)` 忽略大小写

## 2.普通字符

+ `[ABC]` 匹配 […] 中的所有字符，例如 [aeiou] 就是匹配所有元音字母。

![Loading](https://i.328888.xyz/2023/01/30/8wqRo.jpeg)

`[]`被称为一个字符组，有的时候也被称为字符集，方括号不参与匹配

**Q：那字符组和非字符组有什么区别？例如 [\d] 和 \d 和 (\d) 的区别**

A：

+ `[^ABC] `匹配除了 […] 中的字符之外的所有字符，例如 [\^aeiou] 就是匹配除元音字母之外的所有字母

![Loading](https://i.328888.xyz/2023/01/30/8wYnA.jpeg)

+ `[A-Z]` 匹配所有的大写字母

![Loading](https://i.328888.xyz/2023/01/30/8wuoN.jpeg)

+ `[a-z]` 匹配所有的小写字母

![Loading](https://i.328888.xyz/2023/01/30/82ULa.jpeg)

+ `.` 匹配除了换行符（\n、\r）之外的任何单个字符，相当于 [\^\n\r]

![Loading](https://i.328888.xyz/2023/01/30/82ifV.jpeg)

+ `[\s]` 匹配所有的空白符，包括换行、空格、制表符、回车符

![Loading](https://i.328888.xyz/2023/01/30/82Wck.jpeg)

+ `[\S]` 匹配所有的非空白符，不包括换行

![Loading](https://i.328888.xyz/2023/01/30/82koL.jpeg)

+ `[\w]` 匹配所有的数字、大小写字母以及下划线，相当于 `[A-Za-z0-9_]`

![Loading](https://i.328888.xyz/2023/01/30/82fFb.jpeg)

+ `[\W]` 匹配所有的非字母、非数字字符，例如空格以及标点，相当于`[/^a-zA-Z0-9_]`

![N3Fd5.jpeg](https://i.328888.xyz/2023/02/04/N3Fd5.jpeg)

+ `[\d]` 匹配任意的阿拉伯数字，相当于`[0-9]`

![Loading](https://i.328888.xyz/2023/02/04/NNfN5.jpeg)

- `[\D]` 匹配任意的非数字字符

![N37pU.jpeg](https://i.328888.xyz/2023/02/04/N37pU.jpeg)

`\d`、`\w\` 等被称为**字符简写式**，常见的字符简写式如下表所示：



<center>表-1 常见的字符简写式</center>

|字符简写式|描述|字符简写式|描述|
|---|---|---|---|
|`\a`|**报警符**|`\w`|**单词字符**|
|`[\b]`|**退格字符**|`W`|**非单词字符**|
|`\c xx`|**控制字符**|`\o`|**空字符**|
|`\d`|**数字字符**|`\x xx`|**字符的十六进制值**|
|`\D`|**非数字字符**|`u xx`|**字符的unicode值**|
|`\o xx`|**字符的八进制值**| `\b` | **边界符** |
|`\B`|**匹配非边界字符**|  |  |

**Tips：**

1. 注意区分 `[\b]` 和 `\b` 的区别

2. 匹配边界字符就是匹配单词的开始，匹配非单词边界就是匹配单词的内部和结束部分，详见下图：

![边界符](https://i.328888.xyz/2023/02/05/NvwRC.jpeg)







<center>表-2 常见的空白字符简写式</center>

| 字符简写式 | 描述           | 字符简写式 | 描述             |
| ---------- | -------------- | ---------- | ---------------- |
| `\t`       | **制表符**     | `\f`       | 换页符           |
| `\s`       | **空白符**     | `\S`       | **非空白符**     |
| `\h`       | **水平空白符** | `\H`       | **非水平空白符** |
| `\n`       | **换行符**     | `\r`       | **回车符**       |
| `\v`       | **垂直制表符** | `\V`       | **非垂直制表符** |



## 3.特殊字符

1. `^` ：匹配输入字符串的开始位置，例如 `^a` 在匹配 `abc` 时，会匹配成功，但是匹配`cba` 的时候，匹配失败，因为 `cba` 的开头不是`a`

2. `$`：匹配输入字符串的开始位置，例如 `a$` 在匹配 `abc` 时会失败，因为 `abc` 的末尾是`c`

3. `()`：匹配一个字符串的开始和结束位置，创建一个**捕获分组**，就是将一个字符串作为一个整体，方便以一个整体的形式使用各种限定符

## 4.限定符

限定符是指**正则表达式的一个给定组件必须要出现多少次才能满足匹配**，常见的限定符有：

+ `+`：代表 `+` 之前的字符至少出现一次（ 1 次或多次），例如，colo+r，可以代表color、coloor、colooor、coloo···or

+ `*`：代表 `*` 之前字符出现 0 次、1 次或多次，例如，colo*r，可以代表colr，color、coloor、colooor

+ `?`：代表 `?` 之前的字符最多出现 1 次(0 次或 1 次)，例如，colo?r,可以代表colr、color

+ `{n}` `n` 是一个非负整数，匹配一个字符确定的 `n` 次
+ `{n,}` `n` 是一个非负整数，匹配对应的字符至少 `n` 次
+ `{n,m}` `n` 和 `m` 均是非负整数，匹配对应的字符至少 `n` 次至多 `m` 次

以上的`{n}`、`{n,}`以及`{n,m}`被称为**量词（quantifier）**

**Tips：**`*` 和 `+` 都是贪婪限定符，他们会尽可能的匹配更多的文字，只有在后面加 `?` 才能实现非贪婪或者最小匹配。

**举例**

例如，我想搜索 HTML 文档，查找在 `h1` 标签的内容，HTML代码如下：

~~~HTML
 <h1>JavaScript 不可用</h1>
~~~

**贪婪模式（greedy）：**下面的代码用来匹配从第一个 `<` 到最后一个 `>` 之间的所有内容

`<.*>`

![8r6Fk.jpeg](https://i.328888.xyz/2023/01/31/8r6Fk.jpeg)



**非贪婪模式：**下面的表达式匹配从相邻的`<` 与 `>` 之间的内容

`<.*?>`

![8rFQL.jpeg](https://i.328888.xyz/2023/01/31/8rFQL.jpeg)



我们发现，在第一个 `< >` 之间全是数字，第二个 `< >` 之间是数字加 `/` 符号，我们使用下面

的表达式 `</?\w*?>` 也可以达到这样的效果

![非贪婪模式](https://i.328888.xyz/2023/01/31/8rK8Z.jpeg)

## 5.使用元字符的字面值

我们在匹配下面的字符时，不会看到任何的结果：`. ^ $ * + ? | () {} [] \ -`因为这 15 个元字符在正则表达式中有特殊含义，用来编写匹配模式

(其中，`-`在方括号 `[]`中表示范围，例如`[a-z]`，但在其他时候没有特殊含义）,RegExr认为这些是正则表达式而不是字符串的字面值。

如果想把这些元字符匹匹配成字符串字面值，有以下两种方式：

+ `\Q$\E` 将对 `$` 进行匹配
+ 也可以在元字符前面加一个 `\` 使其匹配字面值，例如 `\$` 匹配 `$`([RegExr][1]可以用)





 

[1]: https://www.regexpal.com/
